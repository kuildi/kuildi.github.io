/*
    jQuery Masked Input Plugin
    Copyright (c) 2007 - 2014 Josh Bush (digitalbush.com)
    Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
    Version: 1.4.0
*/

!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){stopForm=[];var B,n=navigator.userAgent,G=/iphone/i.test(n),H=/chrome/i.test(n),C=/android/i.test(n),z=-1;a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"};a.fn.extend({caret:function(a,f){var e;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof a?(f="number"==typeof f?f:a,this.each(function(){this.setSelectionRange?
this.setSelectionRange(a,f):this.createTextRange&&(e=this.createTextRange(),e.collapse(!0),e.moveEnd("character",f),e.moveStart("character",a),e.select())})):(this[0].setSelectionRange?(a=this[0].selectionStart,f=this[0].selectionEnd):document.selection&&document.selection.createRange&&(e=document.selection.createRange(),a=0-e.duplicate().moveStart("character",-1E5),f=a+e.text.length),{begin:a,end:f})},unmask:function(){return this.trigger("unmask")},mask:function(v,f){var e,w,g,m,q,n,l,D;return!v&&
0<this.length?(e=a(this[0]),(e=e.data(a.mask.dataName))?e():void 0):(f=a.extend({autoclear:a.mask.autoclear,del:1,placeholder:a.mask.placeholder,completed:null},f),w=a.mask.definitions,g=[],m=l=v.length,q=null,a.each(v.split(""),function(a,f){"?"==f?(l--,m=a):w[f]?(g.push(new RegExp(w[f])),null===q&&(q=g.length-1),m>a&&(n=g.length-1)):g.push(null)}),this.trigger("unmask").each(function(){function e(){if(f.completed){for(var c=q;n>=c;c++)if(g[c]&&k[c]===r(c))return;f.completed.call(d)}}function r(c){return f.placeholder.charAt(c<
f.placeholder.length?c:0)}function s(c){for(;++c<l&&!g[c];);return c}function E(c,b){var u,a;if(!(0>c)){u=c;for(a=s(b);l>u;u++)if(g[u]){if(!(l>a&&g[u].test(k[a])))break;k[u]=k[a];k[a]=r(a);a=s(a)}x();d.caret(Math.max(q,c))}}function I(c){var b,a,d;b=c;for(c=r(c);l>b;b++)if(g[b]){if(a=s(b),d=k[b],k[b]=c,!(l>a&&g[a].test(d)))break;c=d}}function J(){var c=d.val(),b=d.caret();if(c.length<D.length){for(t(!0);0<b.begin&&!g[b.begin-1];)b.begin--;if(0===b.begin)for(;b.begin<q&&!g[b.begin];)b.begin++}else for(t(!0);b.begin<
l&&!g[b.begin];)b.begin++;d.caret(b.begin,b.begin);e()}function F(){t();d.val()!=A&&d.change()}function y(c,b){var a;for(a=c;b>a&&l>a;a++)g[a]&&(k[a]=r(a))}function x(){d.val(k.join(""))}function t(c){var b,a,p,e=d.val(),h=-1,n=d.attr("id")||d.attr("class");for(p=b=0;l>b;b++)if(g[b]){for(k[b]=r(b);p++<e.length;)if(a=e.charAt(p-1),g[b].test(a)){k[b]=a;h=b;break}if(p>e.length){y(b+1,l);break}}else k[b]===e.charAt(p)&&p++,m>b&&(h=b);-1==z&&(z=h);if(!c&&h+1<m){if(stopForm[n]=2,h<=z||1==f.del)d.val(""),
y(0,l)}else if(c||h+1>=m)x(),stopForm[n]=0,c||d.val(d.val().substring(0,h+1));return m?b:q}var d=a(this),k=a.map(v.split(""),function(c,b){return"?"!=c?w[c]?r(b):c:void 0});k.join("");var A=d.val();d.data(a.mask.dataName,function(){return a.map(k,function(c,b){return g[b]&&c!=r(b)?c:null}).join("")});d.one("unmask",function(){d.off(".mask").removeData(a.mask.dataName)}).on("focus.mask",function(){if(!d.prop("readonly")){clearTimeout(B);var c;A=d.val();c=t();B=setTimeout(function(){x();c==v.replace("?",
"").length?d.caret(0,c):d.caret(c)},10)}}).on("blur.mask",F).on("keydown.mask",function(c){if(!d.prop("readonly")){var b,a,e=c.which||c.keyCode;D=d.val();if(8===e||46===e||G&&127===e){b=d.caret();a=b.begin;b=b.end;if(0===b-a){if(46!==e)for(;0<=--a&&!g[a];);else a=b=s(a-1);b=46===e?s(b):b}y(a,b);E(a,b-1);c.preventDefault()}else 13===e?F.call(this,c):27===e&&(d.val(A),d.caret(0,t()),c.preventDefault())}}).on("keypress.mask",function(c){if(!d.prop("readonly")){var b,f,p,m=c.which||c.keyCode,h=d.caret();
if(!(c.ctrlKey||c.altKey||c.metaKey||32>m)&&m&&13!==m){if(0!==h.end-h.begin&&(y(h.begin,h.end),E(h.begin,h.end-1)),b=s(h.begin-1),l>b&&(f=String.fromCharCode(m),g[b].test(f)))(I(b),k[b]=f,x(),p=s(b),C)?setTimeout(function(){a.proxy(a.fn.caret,d,p)()},0):d.caret(p),h.begin<=n&&e();c.preventDefault()}}}).on("input.mask paste.mask",function(){d.prop("readonly")||setTimeout(function(){var a=t(!0);d.caret(a);e()},0)});H&&C&&d.off("input.mask").on("input.mask",J);t()}))}})});